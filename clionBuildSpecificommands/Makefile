########################################################################
####################### Makefile Template ##############################
########################################################################

# Compiler settings - Can be customized.
CXX = g++
CXXFLAGS = -c -Wall -pedantic -g -Wno-long-long -O0 -std=c++11 "-D DEBUG" -Isrc -Iuniversal-pddl-parser/parser -Iuniversal-pddl-parser -Iuniversal-planning-validator/validator -Iuniversal-planning-validator
LDFLAGS =

OUTPUT_DIR = bin
# main https://github.com/aig-upf/automated-programming-framework
all: compile compile_variable main main_nir main_perf

compile: universal-pddl-parser/parser/Action.o universal-pddl-parser/parser/And.o universal-pddl-parser/parser/Derived.o universal-pddl-parser/parser/Equals.o universal-pddl-parser/parser/Exists.o universal-pddl-parser/parser/Expression.o universal-pddl-parser/parser/Forall.o universal-pddl-parser/parser/Function.o universal-pddl-parser/parser/FunctionModifier.o universal-pddl-parser/parser/Ground.o universal-pddl-parser/parser/GroundFunc.o universal-pddl-parser/parser/Lifted.o universal-pddl-parser/parser/Not.o universal-pddl-parser/parser/Oneof.o universal-pddl-parser/parser/Or.o universal-pddl-parser/parser/ParamCond.o universal-pddl-parser/parser/TemporalAction.o universal-pddl-parser/parser/TypeGround.o universal-pddl-parser/parser/When.o universal-planning-validator/validator/ClassicalPlan.o universal-planning-validator/validator/ConditionChecker.o universal-planning-validator/validator/Message.o universal-planning-validator/validator/PlanAction.o universal-planning-validator/validator/PlanValidator.o universal-planning-validator/validator/State.o universal-planning-validator/validator/Utils.o src/compile.o
  $(CXX) $(CXXFLAGS) universal-pddl-parser/parser/Action.o universal-pddl-parser/parser/And.o universal-pddl-parser/parser/Derived.o universal-pddl-parser/parser/Equals.o universal-pddl-parser/parser/Exists.o universal-pddl-parser/parser/Expression.o universal-pddl-parser/parser/Forall.o universal-pddl-parser/parser/Function.o universal-pddl-parser/parser/FunctionModifier.o universal-pddl-parser/parser/Ground.o universal-pddl-parser/parser/GroundFunc.o universal-pddl-parser/parser/Lifted.o universal-pddl-parser/parser/Not.o universal-pddl-parser/parser/Oneof.o universal-pddl-parser/parser/Or.o universal-pddl-parser/parser/ParamCond.o universal-pddl-parser/parser/TemporalAction.o universal-pddl-parser/parser/TypeGround.o universal-pddl-parser/parser/When.o universal-planning-validator/validator/ClassicalPlan.o universal-planning-validator/validator/ConditionChecker.o universal-planning-validator/validator/Message.o universal-planning-validator/validator/PlanAction.o universal-planning-validator/validator/PlanValidator.o universal-planning-validator/validator/State.o universal-planning-validator/validator/Utils.o src/compile.o -o $(OUTPUT_DIR)/compile

compile_variable: universal-pddl-parser/parser/Action.o universal-pddl-parser/parser/And.o universal-pddl-parser/parser/Derived.o universal-pddl-parser/parser/Equals.o universal-pddl-parser/parser/Exists.o universal-pddl-parser/parser/Expression.o universal-pddl-parser/parser/Forall.o universal-pddl-parser/parser/Function.o universal-pddl-parser/parser/FunctionModifier.o universal-pddl-parser/parser/Ground.o universal-pddl-parser/parser/GroundFunc.o universal-pddl-parser/parser/Lifted.o universal-pddl-parser/parser/Not.o universal-pddl-parser/parser/Oneof.o universal-pddl-parser/parser/Or.o universal-pddl-parser/parser/ParamCond.o universal-pddl-parser/parser/TemporalAction.o universal-pddl-parser/parser/TypeGround.o universal-pddl-parser/parser/When.o universal-planning-validator/validator/ClassicalPlan.o universal-planning-validator/validator/ConditionChecker.o universal-planning-validator/validator/Message.o universal-planning-validator/validator/PlanAction.o universal-planning-validator/validator/PlanValidator.o universal-planning-validator/validator/State.o universal-planning-validator/validator/Utils.o src/compile_variable.o
  $(CXX) $(CXXFLAGS) universal-pddl-parser/parser/Action.o universal-pddl-parser/parser/And.o universal-pddl-parser/parser/Derived.o universal-pddl-parser/parser/Equals.o universal-pddl-parser/parser/Exists.o universal-pddl-parser/parser/Expression.o universal-pddl-parser/parser/Forall.o universal-pddl-parser/parser/Function.o universal-pddl-parser/parser/FunctionModifier.o universal-pddl-parser/parser/Ground.o universal-pddl-parser/parser/GroundFunc.o universal-pddl-parser/parser/Lifted.o universal-pddl-parser/parser/Not.o universal-pddl-parser/parser/Oneof.o universal-pddl-parser/parser/Or.o universal-pddl-parser/parser/ParamCond.o universal-pddl-parser/parser/TemporalAction.o universal-pddl-parser/parser/TypeGround.o universal-pddl-parser/parser/When.o universal-planning-validator/validator/ClassicalPlan.o universal-planning-validator/validator/ConditionChecker.o universal-planning-validator/validator/Message.o universal-planning-validator/validator/PlanAction.o universal-planning-validator/validator/PlanValidator.o universal-planning-validator/validator/State.o universal-planning-validator/validator/Utils.o src/compile_variable.o -o $(OUTPUT_DIR)/compile_variable

main: universal-pddl-parser/parser/Action.o universal-pddl-parser/parser/And.o universal-pddl-parser/parser/Derived.o universal-pddl-parser/parser/Equals.o universal-pddl-parser/parser/Exists.o universal-pddl-parser/parser/Expression.o universal-pddl-parser/parser/Forall.o universal-pddl-parser/parser/Function.o universal-pddl-parser/parser/FunctionModifier.o universal-pddl-parser/parser/Ground.o universal-pddl-parser/parser/GroundFunc.o universal-pddl-parser/parser/Lifted.o universal-pddl-parser/parser/Not.o universal-pddl-parser/parser/Oneof.o universal-pddl-parser/parser/Or.o universal-pddl-parser/parser/ParamCond.o universal-pddl-parser/parser/TemporalAction.o universal-pddl-parser/parser/TypeGround.o universal-pddl-parser/parser/When.o universal-planning-validator/validator/ClassicalPlan.o universal-planning-validator/validator/ConditionChecker.o universal-planning-validator/validator/Message.o universal-planning-validator/validator/PlanAction.o universal-planning-validator/validator/PlanValidator.o universal-planning-validator/validator/State.o universal-planning-validator/validator/Utils.o main.o
  $(CXX) $(CXXFLAGS) universal-pddl-parser/parser/Action.o universal-pddl-parser/parser/And.o universal-pddl-parser/parser/Derived.o universal-pddl-parser/parser/Equals.o universal-pddl-parser/parser/Exists.o universal-pddl-parser/parser/Expression.o universal-pddl-parser/parser/Forall.o universal-pddl-parser/parser/Function.o universal-pddl-parser/parser/FunctionModifier.o universal-pddl-parser/parser/Ground.o universal-pddl-parser/parser/GroundFunc.o universal-pddl-parser/parser/Lifted.o universal-pddl-parser/parser/Not.o universal-pddl-parser/parser/Oneof.o universal-pddl-parser/parser/Or.o universal-pddl-parser/parser/ParamCond.o universal-pddl-parser/parser/TemporalAction.o universal-pddl-parser/parser/TypeGround.o universal-pddl-parser/parser/When.o universal-planning-validator/validator/ClassicalPlan.o universal-planning-validator/validator/ConditionChecker.o universal-planning-validator/validator/Message.o universal-planning-validator/validator/PlanAction.o universal-planning-validator/validator/PlanValidator.o universal-planning-validator/validator/State.o universal-planning-validator/validator/Utils.o main.o -o main

main_nir: universal-pddl-parser/parser/Action.o universal-pddl-parser/parser/And.o universal-pddl-parser/parser/Derived.o universal-pddl-parser/parser/Equals.o universal-pddl-parser/parser/Exists.o universal-pddl-parser/parser/Expression.o universal-pddl-parser/parser/Forall.o universal-pddl-parser/parser/Function.o universal-pddl-parser/parser/FunctionModifier.o universal-pddl-parser/parser/Ground.o universal-pddl-parser/parser/GroundFunc.o universal-pddl-parser/parser/Lifted.o universal-pddl-parser/parser/Not.o universal-pddl-parser/parser/Oneof.o universal-pddl-parser/parser/Or.o universal-pddl-parser/parser/ParamCond.o universal-pddl-parser/parser/TemporalAction.o universal-pddl-parser/parser/TypeGround.o universal-pddl-parser/parser/When.o universal-planning-validator/validator/ClassicalPlan.o universal-planning-validator/validator/ConditionChecker.o universal-planning-validator/validator/Message.o universal-planning-validator/validator/PlanAction.o universal-planning-validator/validator/PlanValidator.o universal-planning-validator/validator/State.o universal-planning-validator/validator/Utils.o main_nir.o
  $(CXX) $(CXXFLAGS) universal-pddl-parser/parser/Action.o universal-pddl-parser/parser/And.o universal-pddl-parser/parser/Derived.o universal-pddl-parser/parser/Equals.o universal-pddl-parser/parser/Exists.o universal-pddl-parser/parser/Expression.o universal-pddl-parser/parser/Forall.o universal-pddl-parser/parser/Function.o universal-pddl-parser/parser/FunctionModifier.o universal-pddl-parser/parser/Ground.o universal-pddl-parser/parser/GroundFunc.o universal-pddl-parser/parser/Lifted.o universal-pddl-parser/parser/Not.o universal-pddl-parser/parser/Oneof.o universal-pddl-parser/parser/Or.o universal-pddl-parser/parser/ParamCond.o universal-pddl-parser/parser/TemporalAction.o universal-pddl-parser/parser/TypeGround.o universal-pddl-parser/parser/When.o universal-planning-validator/validator/ClassicalPlan.o universal-planning-validator/validator/ConditionChecker.o universal-planning-validator/validator/Message.o universal-planning-validator/validator/PlanAction.o universal-planning-validator/validator/PlanValidator.o universal-planning-validator/validator/State.o universal-planning-validator/validator/Utils.o main_nir.o -o main_nir

main_perf:
  $(CXX) $(CXXFLAGS) universal-pddl-parser/parser/Action.o universal-pddl-parser/parser/And.o universal-pddl-parser/parser/Derived.o universal-pddl-parser/parser/Equals.o universal-pddl-parser/parser/Exists.o universal-pddl-parser/parser/Expression.o universal-pddl-parser/parser/Forall.o universal-pddl-parser/parser/Function.o universal-pddl-parser/parser/FunctionModifier.o universal-pddl-parser/parser/Ground.o universal-pddl-parser/parser/GroundFunc.o universal-pddl-parser/parser/Lifted.o universal-pddl-parser/parser/Not.o universal-pddl-parser/parser/Oneof.o universal-pddl-parser/parser/Or.o universal-pddl-parser/parser/ParamCond.o universal-pddl-parser/parser/TemporalAction.o universal-pddl-parser/parser/TypeGround.o universal-pddl-parser/parser/When.o universal-planning-validator/validator/ClassicalPlan.o universal-planning-validator/validator/ConditionChecker.o universal-planning-validator/validator/Message.o universal-planning-validator/validator/PlanAction.o universal-planning-validator/validator/PlanValidator.o universal-planning-validator/validator/State.o universal-planning-validator/validator/Utils.o main_performance.o -o main_perf

$(OUTPUT_DIR):
	mkdir $(OUTPUT_DIR)


clean:
	scons --clean